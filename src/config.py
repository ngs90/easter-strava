import os 
import json 
from dotenv import load_dotenv
import ast 

load_dotenv()

class Config:
    client_id = os.getenv('CLIENT_ID')
    client_secret = os.getenv('CLIENT_SECRET')
    redirect_url = "https://localhost"
    token = os.getenv('token')
    print(type(token), token)

    if token is not None:
        token = ast.literal_eval(token)

    icon = os.getenv('icon') 

    auth_base_url = 'https://www.strava.com/oauth/authorize'
    token_url = 'https://www.strava.com/api/v3/oauth/token'
    session_scope = 'profile:read_all'
    verify_url = 'https://www.strava.com/api/v3/athlete'

    # icon: data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%20standalone%3D%22no%22%3F%3E%0A%3Csvg%20width%3D%22193px%22%20height%3D%2248px%22%20viewBox%3D%220%200%20193%2048%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3C%21--%20Generator%3A%20Sketch%2039.1%20%2831720%29%20-%20http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch%20--%3E%0A%20%20%20%20%3Ctitle%3Ebtn_strava_connectwith_light%3C%2Ftitle%3E%0A%20%20%20%20%3Cdesc%3ECreated%20with%20Sketch.%3C%2Fdesc%3E%0A%20%20%20%20%3Cdefs%3E%3C%2Fdefs%3E%0A%20%20%20%20%3Cg%20id%3D%22Strava-Button_outlined%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%0A%20%20%20%20%20%20%20%20%3Cg%20id%3D%22btn_strava_connectwith_light%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22button-bg%22%20fill%3D%22%23FFFFFF%22%20x%3D%224%22%20y%3D%224%22%20width%3D%22185%22%20height%3D%2240%22%20rx%3D%222%22%3E%3C%2Frect%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M160.015559%2C18.7243818%20L157.573637%2C23.6936411%20L155.130184%2C18.7243818%20L151.538762%2C18.7243818%20L157.573637%2C31%20L163.604197%2C18.7243818%20L160.015559%2C18.7243818%20Z%20M140.167341%2C23.0633572%20C140.167341%2C22.6899778%20140.038474%2C22.4112701%20139.782411%2C22.2312505%20C139.527323%2C22.049653%20139.178854%2C21.959428%20138.742573%2C21.959428%20L137.108085%2C21.959428%20L137.108085%2C24.220073%20L138.726013%2C24.220073%20C139.17454%2C24.220073%20139.527323%2C24.1208112%20139.782411%2C23.9228613%20C140.038474%2C23.7244811%20140.167341%2C23.4484988%20140.167341%2C23.0966357%20L140.167341%2C23.0633572%20Z%20M149.175468%2C18%20L155.208534%2C30.2756182%20L151.617112%2C30.2756182%20L149.175468%2C25.306072%20L146.735216%2C30.2756182%20L144.297747%2C30.2756182%20L143.145603%2C30.2756182%20L140.022749%2C30.2756182%20L137.908281%2C26.9753059%20L137.877804%2C26.9753059%20L137.108085%2C26.9753059%20L137.108085%2C30.2756182%20L133.360798%2C30.2756182%20L133.360798%2C18.7243818%20L138.838458%2C18.7243818%20C139.841696%2C18.7243818%20140.666246%2C18.8428649%20141.311553%2C19.0794006%20C141.958668%2C19.3155061%20142.477752%2C19.638107%20142.87298%2C20.0451952%20C143.215325%2C20.3961977%20143.471249%2C20.7933884%20143.642978%2C21.231747%20C143.812619%2C21.6721138%20143.898902%2C22.1909433%20143.898902%2C22.7824979%20L143.898902%2C22.8174977%20C143.898902%2C23.6638052%20143.701288%2C24.3792936%20143.305086%2C24.9618113%20C142.911389%2C25.5449028%20142.372405%2C26.0083638%20141.687715%2C26.3481777%20L143.635324%2C29.2788401%20L149.175468%2C18%20Z%20M165.966934%2C18%20L159.934565%2C30.2756182%20L163.525987%2C30.2756182%20L165.966934%2C25.306072%20L168.409552%2C30.2756182%20L172%2C30.2756182%20L165.966934%2C18%20Z%20M122.487587%2C21.9899811%20L125.786345%2C21.9899811%20L125.786345%2C30.2756182%20L129.534327%2C30.2756182%20L129.534327%2C21.9899811%20L132.833921%2C21.9899811%20L132.833921%2C18.7243818%20L122.487587%2C18.7243818%20L122.487587%2C21.9899811%20Z%20M122.352597%2C25.0606428%20C122.581523%2C25.4677311%20122.696612%2C25.9636099%20122.696612%2C26.5455539%20L122.696612%2C26.5794062%20C122.696612%2C27.1838705%20122.579853%2C27.7295237%20122.343829%2C28.212923%20C122.109615%2C28.6976133%20121.777847%2C29.1069967%20121.351168%2C29.4430811%20C120.923515%2C29.7780181%20120.405405%2C30.036357%20119.797395%2C30.2182414%20C119.189663%2C30.400843%20118.505112%2C30.4919286%20117.748474%2C30.4919286%20C116.606767%2C30.4919286%20115.540905%2C30.3282614%20114.553254%2C30.0046563%20C113.565741%2C29.6791866%20112.715028%2C29.1923446%20112%2C28.5447042%20L114.001188%2C26.0865396%20C114.609059%2C26.5697955%20115.250886%2C26.9167816%20115.922216%2C27.1254896%20C116.594521%2C27.334628%20117.262511%2C27.4391972%20117.924378%2C27.4391972%20C118.266584%2C27.4391972%20118.511235%2C27.3947302%20118.660976%2C27.3078043%20C118.811692%2C27.2194441%20118.884892%2C27.0980922%20118.884892%2C26.9447528%20L118.884892%2C26.9119046%20C118.884892%2C26.7453685%20118.774256%2C26.6062298%20118.556603%2C26.4980746%20C118.338949%2C26.388198%20117.928692%2C26.273301%20117.331258%2C26.1525229%20C116.701677%2C26.0195522%20116.100764%2C25.8647784%20115.530329%2C25.6893489%20C114.959058%2C25.51478%20114.457508%2C25.2881418%20114.025541%2C25.0125898%20C113.592878%2C24.7383288%20113.248863%2C24.3904821%20112.991966%2C23.9727791%20C112.735903%2C23.554359%20112.607871%2C23.0422712%20112.607871%2C22.4378069%20L112.607871%2C22.4045284%20C112.607871%2C21.8538547%20112.711549%2C21.341767%20112.920435%2C20.8692692%20C113.126816%2C20.3961977%20113.431726%2C19.982798%20113.832242%2C19.6317956%20C114.232897%2C19.2795021%20114.730132%2C19.0049543%20115.323112%2C18.80557%20C115.913588%2C18.6076201%20116.594521%2C18.508932%20117.364379%2C18.508932%20C118.45209%2C18.508932%20119.404811%2C18.6413289%20120.221569%2C18.9062662%20C121.038465%2C19.1683346%20121.771724%2C19.5649516%20122.423988%2C20.092818%20L120.598705%2C22.7013097%20C120.064869%2C22.3039755%20119.501531%2C22.0153704%20118.909246%2C21.8333425%20C118.315431%2C21.6514581%20117.759746%2C21.5603725%20117.235513%2C21.5603725%20C116.958575%2C21.5603725%20116.753168%2C21.6044092%20116.619849%2C21.6927694%20C116.484024%2C21.7808428%20116.419591%2C21.8968873%20116.419591%2C22.0391817%20L116.419591%2C22.0720299%20C116.419591%2C22.2273776%20116.51965%2C22.3593441%20116.723526%2C22.469651%20C116.927263%2C22.5790972%20117.321656%2C22.6949983%20117.907817%2C22.8160633%20C118.623541%2C22.9471692%20119.274136%2C23.1073939%20119.862802%2C23.2932946%20C120.448825%2C23.4822077%20120.954827%2C23.7204648%20121.375383%2C24.012656%20C121.797052%2C24.3042735%20122.123532%2C24.6521202%20122.352597%2C25.0606428%20L122.352597%2C25.0606428%20Z%22%20id%3D%22Strava-logo-Copy-6%22%20fill%3D%22%23FC4C02%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M27%2C25.164%20L28.736%2C25.514%20C28.6239994%2C26.6153388%2028.2226701%2C27.5066633%2027.532%2C28.188%20C26.8413299%2C28.8693367%2025.9500055%2C29.21%2024.858%2C29.21%20C23.6166605%2C29.21%2022.6016706%2C28.7760043%2021.813%2C27.908%20C21.0243294%2C27.0399957%2020.63%2C25.7426753%2020.63%2C24.016%20C20.63%2C22.4106586%2021.0429959%2C21.171671%2021.869%2C20.299%20C22.6950041%2C19.426329%2023.6866609%2C18.99%2024.844%2C18.99%20C25.8613384%2C18.99%2026.7199965%2C19.3096635%2027.42%2C19.949%20C28.1200035%2C20.5883365%2028.5306661%2C21.4306614%2028.652%2C22.476%20L26.944%2C22.742%20C26.7013321%2C21.2579926%2026.0060057%2C20.516%2024.858%2C20.516%20C24.1393297%2C20.516%2023.5396691%2C20.8053304%2023.059%2C21.384%20C22.5783309%2C21.9626696%2022.338%2C22.8493274%2022.338%2C24.044%20C22.338%2C25.2666728%2022.5736643%2C26.178997%2023.045%2C26.781%20C23.5163357%2C27.383003%2024.120663%2C27.684%2024.858%2C27.684%20C26.0806728%2C27.684%2026.7946656%2C26.8440084%2027%2C25.164%20L27%2C25.164%20Z%20M33.51875%2C27.768%20C34.0694194%2C27.768%2034.5150816%2C27.5510022%2034.85575%2C27.117%20C35.1964184%2C26.6829978%2035.36675%2C26.0740039%2035.36675%2C25.29%20C35.36675%2C24.5059961%2035.1964184%2C23.8970022%2034.85575%2C23.463%20C34.5150816%2C23.0289978%2034.0694194%2C22.812%2033.51875%2C22.812%20C32.9587472%2C22.812%2032.5084184%2C23.0266645%2032.16775%2C23.456%20C31.8270816%2C23.8853355%2031.65675%2C24.4966627%2031.65675%2C25.29%20C31.65675%2C26.0926707%2031.8270816%2C26.7063312%2032.16775%2C27.131%20C32.5084184%2C27.5556688%2032.9587472%2C27.768%2033.51875%2C27.768%20L33.51875%2C27.768%20Z%20M33.51875%2C29.21%20C32.5200783%2C29.21%2031.6964199%2C28.8646701%2031.04775%2C28.174%20C30.3990801%2C27.4833299%2030.07475%2C26.5220062%2030.07475%2C25.29%20C30.07475%2C24.0766606%2030.4084133%2C23.1200035%2031.07575%2C22.42%20C31.7430867%2C21.7199965%2032.5574119%2C21.37%2033.51875%2C21.37%20C34.4800881%2C21.37%2035.2897467%2C21.7199965%2035.94775%2C22.42%20C36.6057533%2C23.1200035%2036.93475%2C24.0766606%2036.93475%2C25.29%20C36.93475%2C26.5220062%2036.6150865%2C27.4833299%2035.97575%2C28.174%20C35.3364135%2C28.8646701%2034.5174217%2C29.21%2033.51875%2C29.21%20L33.51875%2C29.21%20Z%20M38.7635%2C29%20L38.7635%2C21.58%20L40.3035%2C21.58%20L40.3035%2C22.294%20L40.3315%2C22.294%20C40.5368344%2C22.0326654%2040.8214982%2C21.8133342%2041.1855%2C21.636%20C41.5495018%2C21.4586658%2041.9321647%2C21.37%2042.3335%2C21.37%20C43.1548374%2C21.37%2043.8011643%2C21.6149976%2044.2725%2C22.105%20C44.7438357%2C22.5950024%2044.9795%2C23.2739957%2044.9795%2C24.142%20L44.9795%2C29%20L43.3975%2C29%20L43.3975%2C24.562%20C43.3975%2C23.4139943%2042.9168381%2C22.84%2041.9555%2C22.84%20C41.4701642%2C22.84%2041.0828348%2C22.9799986%2040.7935%2C23.26%20C40.5041652%2C23.5400014%2040.3595%2C23.9179976%2040.3595%2C24.394%20L40.3595%2C29%20L38.7635%2C29%20Z%20M47.22825%2C29%20L47.22825%2C21.58%20L48.76825%2C21.58%20L48.76825%2C22.294%20L48.79625%2C22.294%20C49.0015844%2C22.0326654%2049.2862482%2C21.8133342%2049.65025%2C21.636%20C50.0142518%2C21.4586658%2050.3969147%2C21.37%2050.79825%2C21.37%20C51.6195874%2C21.37%2052.2659143%2C21.6149976%2052.73725%2C22.105%20C53.2085857%2C22.5950024%2053.44425%2C23.2739957%2053.44425%2C24.142%20L53.44425%2C29%20L51.86225%2C29%20L51.86225%2C24.562%20C51.86225%2C23.4139943%2051.3815881%2C22.84%2050.42025%2C22.84%20C49.9349142%2C22.84%2049.5475848%2C22.9799986%2049.25825%2C23.26%20C48.9689152%2C23.5400014%2048.82425%2C23.9179976%2048.82425%2C24.394%20L48.82425%2C29%20L47.22825%2C29%20Z%20M60.621%2C26.536%20L61.769%2C27.474%20C61.0503297%2C28.6313391%2060.0236733%2C29.21%2058.689%2C29.21%20C57.6623282%2C29.21%2056.8246699%2C28.8530036%2056.176%2C28.139%20C55.5273301%2C27.4249964%2055.203%2C26.4753393%2055.203%2C25.29%20C55.203%2C24.1046607%2055.5249968%2C23.1550036%2056.169%2C22.441%20C56.8130032%2C21.7269964%2057.6296617%2C21.37%2058.619%2C21.37%20C59.6083383%2C21.37%2060.4179968%2C21.7246631%2061.048%2C22.434%20C61.6780031%2C23.1433369%2061.993%2C24.0953274%2061.993%2C25.29%20L61.993%2C25.766%20L56.813%2C25.766%20C56.8316668%2C26.3820031%2057.0019984%2C26.8743315%2057.324%2C27.243%20C57.6460016%2C27.6116685%2058.0916638%2C27.796%2058.661%2C27.796%20C58.931668%2C27.796%2059.1743323%2C27.758667%2059.389%2C27.684%20C59.6036677%2C27.609333%2059.7926658%2C27.4973341%2059.956%2C27.348%20C60.1193342%2C27.1986659%2060.2429996%2C27.0680006%2060.327%2C26.956%20C60.4110004%2C26.8439994%2060.5089994%2C26.7040008%2060.621%2C26.536%20L60.621%2C26.536%20Z%20M56.827%2C24.562%20L60.439%2C24.562%20C60.4109999%2C24.0393307%2060.2430015%2C23.612335%2059.935%2C23.281%20C59.6269985%2C22.949665%2059.1883362%2C22.784%2058.619%2C22.784%20C58.0869973%2C22.784%2057.6623349%2C22.9613316%2057.345%2C23.316%20C57.0276651%2C23.6706684%2056.8550001%2C24.0859976%2056.827%2C24.562%20L56.827%2C24.562%20Z%20M68.32975%2C26.046%20L69.91175%2C26.382%20C69.7624159%2C27.2780045%2069.4217527%2C27.9733309%2068.88975%2C28.468%20C68.3577473%2C28.9626691%2067.6530877%2C29.21%2066.77575%2C29.21%20C65.767745%2C29.21%2064.9417532%2C28.8646701%2064.29775%2C28.174%20C63.6537468%2C27.4833299%2063.33175%2C26.5220062%2063.33175%2C25.29%20C63.33175%2C24.1046607%2063.6560801%2C23.1550036%2064.30475%2C22.441%20C64.9534199%2C21.7269964%2065.7724117%2C21.37%2066.76175%2C21.37%20C67.6110876%2C21.37%2068.3110806%2C21.6243308%2068.86175%2C22.133%20C69.4124194%2C22.6416692%2069.7344162%2C23.3019959%2069.82775%2C24.114%20L68.32975%2C24.366%20C68.1710825%2C23.3299948%2067.6530877%2C22.812%2066.77575%2C22.812%20C66.2064138%2C22.812%2065.7537517%2C23.0289978%2065.41775%2C23.463%20C65.0817483%2C23.8970022%2064.91375%2C24.5059961%2064.91375%2C25.29%20C64.91375%2C26.0740039%2065.0770817%2C26.6829978%2065.40375%2C27.117%20C65.7304183%2C27.5510022%2066.1877471%2C27.768%2066.77575%2C27.768%20C67.6437543%2C27.768%2068.1617492%2C27.1940057%2068.32975%2C26.046%20L68.32975%2C26.046%20Z%20M72.0205%2C26.522%20L72.0205%2C22.952%20L70.9005%2C22.952%20L70.9005%2C21.58%20L72.0625%2C21.58%20L72.0625%2C19.76%20L73.5745%2C19.76%20L73.5745%2C21.58%20L75.4365%2C21.58%20L75.4365%2C22.952%20L73.5885%2C22.952%20L73.5885%2C26.354%20C73.5885%2C26.7646687%2073.6514994%2C27.0516658%2073.7775%2C27.215%20C73.9035006%2C27.3783342%2074.162498%2C27.46%2074.5545%2C27.46%20L75.1425%2C27.46%20L75.1425%2C29%20L74.4285%2C29%20C73.5324955%2C29%2072.9071684%2C28.8016686%2072.5525%2C28.405%20C72.1978316%2C28.0083313%2072.0205%2C27.380671%2072.0205%2C26.522%20L72.0205%2C26.522%20Z%20M81.992%2C29%20L80.354%2C21.58%20L81.922%2C21.58%20L82.972%2C26.746%20L83%2C26.746%20L84.764%2C21.58%20L86.206%2C21.58%20L87.858%2C26.732%20L87.886%2C26.732%20L89.076%2C21.58%20L90.616%2C21.58%20L88.838%2C29%20L87.298%2C29%20L85.492%2C23.428%20L85.464%2C23.428%20L83.518%2C29%20L81.992%2C29%20Z%20M92.40275%2C29%20L92.40275%2C21.58%20L93.99875%2C21.58%20L93.99875%2C29%20L92.40275%2C29%20Z%20M92.37475%2C20.362%20L92.37475%2C18.78%20L94.02675%2C18.78%20L94.02675%2C20.362%20L92.37475%2C20.362%20Z%20M96.6955%2C26.522%20L96.6955%2C22.952%20L95.5755%2C22.952%20L95.5755%2C21.58%20L96.7375%2C21.58%20L96.7375%2C19.76%20L98.2495%2C19.76%20L98.2495%2C21.58%20L100.1115%2C21.58%20L100.1115%2C22.952%20L98.2635%2C22.952%20L98.2635%2C26.354%20C98.2635%2C26.7646687%2098.3264994%2C27.0516658%2098.4525%2C27.215%20C98.5785006%2C27.3783342%2098.837498%2C27.46%2099.2295%2C27.46%20L99.8175%2C27.46%20L99.8175%2C29%20L99.1035%2C29%20C98.2074955%2C29%2097.5821684%2C28.8016686%2097.2275%2C28.405%20C96.8728316%2C28.0083313%2096.6955%2C27.380671%2096.6955%2C26.522%20L96.6955%2C26.522%20Z%20M101.87025%2C29%20L101.87025%2C18.78%20L103.46625%2C18.78%20L103.46625%2C22.308%20L103.49425%2C22.308%20C103.662251%2C22.0559987%20103.937581%2C21.8366676%20104.32025%2C21.65%20C104.702919%2C21.4633324%20105.090248%2C21.37%20105.48225%2C21.37%20C106.275587%2C21.37%20106.919581%2C21.6126642%20107.41425%2C22.098%20C107.908919%2C22.5833358%20108.15625%2C23.2459958%20108.15625%2C24.086%20L108.15625%2C29%20L106.57425%2C29%20L106.57425%2C24.464%20C106.57425%2C23.9786642%20106.443585%2C23.5866682%20106.18225%2C23.288%20C105.920915%2C22.9893318%20105.542919%2C22.84%20105.04825%2C22.84%20C104.572248%2C22.84%20104.189585%2C22.9799986%20103.90025%2C23.26%20C103.610915%2C23.5400014%20103.46625%2C23.8993311%20103.46625%2C24.338%20L103.46625%2C29%20L101.87025%2C29%20Z%22%20id%3D%22Connect-with%22%20fill%3D%22%23999999%22%3E%3C%2Fpath%3E%0A%20%20%20%20%20%20%20%20%3C%2Fg%3E%0A%20%20%20%20%3C%2Fg%3E%0A%3C%2Fsvg%3E

def write_env(config):
    """
    Writes environment variables to a .env file based on the attributes of the provided config object. All attrbuted that are not callable are written.

    :param config: The configuration object containing the attributes to be written to the .env file.
    :return: None
    """
    
    print('Updating dotenv...')

    members = [attr for attr in dir(config) if not callable(getattr(config, attr)) and not attr.startswith("__")]
    with open('src/.env', 'w') as f:
        for member in members:
            f.write(f'{member}="{getattr(config, member)}"\n')

